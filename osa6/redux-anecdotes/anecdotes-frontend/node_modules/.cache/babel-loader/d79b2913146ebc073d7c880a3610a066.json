{"ast":null,"code":"const getId = () => (100000 * Math.random()).toFixed(0);\n\nconst asObject = anecdote => {\n  return {\n    content: anecdote,\n    id: getId(),\n    votes: 0\n  };\n};\n\nexport const createAnecdote = content => {\n  return {\n    type: 'NEW_ANECDOTE',\n    data: content\n  };\n};\nexport const initializeAnecdotes = anecdotes => {\n  return {\n    type: 'INIT_ANECDOTES',\n    data: anecdotes\n  };\n};\nexport const voteAnecdote = id => {\n  return {\n    type: 'VOTE',\n    data: {\n      id\n    }\n  };\n};\n\nconst anecdoteReducer = (state = [], action) => {\n  console.log('state now: ', state);\n  console.log('action', action);\n\n  switch (action.type) {\n    case 'NEW_ANECDOTE':\n      return [...state, action.data];\n\n    case 'INIT_ANECDOTES':\n      return action.data;\n\n    case 'VOTE':\n      const id = action.data.id;\n      const anecdoteToVote = state.find(a => a.id === id);\n      const newAnecdote = { ...anecdoteToVote,\n        votes: anecdoteToVote.votes + 1\n      };\n      return state.map(anecdote => anecdote.id !== id ? anecdote : newAnecdote);\n\n    default:\n      return state;\n  }\n};\n\nexport default anecdoteReducer;","map":{"version":3,"sources":["/Users/silva/Documents/Aalto/Ohjelmointi/Full Stack Open/osa6/redux-anecdotes/anecdotes-frontend/src/reducers/anecdoteReducer.js"],"names":["getId","Math","random","toFixed","asObject","anecdote","content","id","votes","createAnecdote","type","data","initializeAnecdotes","anecdotes","voteAnecdote","anecdoteReducer","state","action","console","log","anecdoteToVote","find","a","newAnecdote","map"],"mappings":"AAAA,MAAMA,KAAK,GAAG,MAAM,CAAC,SAASC,IAAI,CAACC,MAAL,EAAV,EAAyBC,OAAzB,CAAiC,CAAjC,CAApB;;AAEA,MAAMC,QAAQ,GAAIC,QAAD,IAAc;AAC7B,SAAO;AACLC,IAAAA,OAAO,EAAED,QADJ;AAELE,IAAAA,EAAE,EAAEP,KAAK,EAFJ;AAGLQ,IAAAA,KAAK,EAAE;AAHF,GAAP;AAKD,CAND;;AAQA,OAAO,MAAMC,cAAc,GAAIH,OAAD,IAAa;AACzC,SAAO;AACLI,IAAAA,IAAI,EAAE,cADD;AAELC,IAAAA,IAAI,EAAEL;AAFD,GAAP;AAID,CALM;AAOP,OAAO,MAAMM,mBAAmB,GAAIC,SAAD,IAAe;AAChD,SAAO;AACLH,IAAAA,IAAI,EAAE,gBADD;AAELC,IAAAA,IAAI,EAAEE;AAFD,GAAP;AAID,CALM;AAOP,OAAQ,MAAMC,YAAY,GAAIP,EAAD,IAAQ;AACnC,SAAO;AACLG,IAAAA,IAAI,EAAE,MADD;AAELC,IAAAA,IAAI,EAAE;AAACJ,MAAAA;AAAD;AAFD,GAAP;AAID,CALO;;AAQR,MAAMQ,eAAe,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AAC9CC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,KAA3B;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,MAAtB;;AACA,UAAOA,MAAM,CAACP,IAAd;AACE,SAAK,cAAL;AACE,aAAO,CAAC,GAAGM,KAAJ,EAAWC,MAAM,CAACN,IAAlB,CAAP;;AACF,SAAK,gBAAL;AACE,aAAOM,MAAM,CAACN,IAAd;;AACF,SAAK,MAAL;AACE,YAAMJ,EAAE,GAAGU,MAAM,CAACN,IAAP,CAAYJ,EAAvB;AACA,YAAMa,cAAc,GAAGJ,KAAK,CAACK,IAAN,CAAWC,CAAC,IAAIA,CAAC,CAACf,EAAF,KAASA,EAAzB,CAAvB;AACA,YAAMgB,WAAW,GAAG,EAClB,GAAGH,cADe;AAElBZ,QAAAA,KAAK,EAAEY,cAAc,CAACZ,KAAf,GAAuB;AAFZ,OAApB;AAIA,aAAOQ,KAAK,CAACQ,GAAN,CAAUnB,QAAQ,IACvBA,QAAQ,CAACE,EAAT,KAAgBA,EAAhB,GAAqBF,QAArB,GAAgCkB,WAD3B,CAAP;;AAEF;AAAS,aAAOP,KAAP;AAdX;AAiBD,CApBD;;AAsBA,eAAeD,eAAf","sourcesContent":["const getId = () => (100000 * Math.random()).toFixed(0)\n\nconst asObject = (anecdote) => {\n  return {\n    content: anecdote,\n    id: getId(),\n    votes: 0\n  }\n}\n\nexport const createAnecdote = (content) => {\n  return {\n    type: 'NEW_ANECDOTE',\n    data: content\n    }\n}\n\nexport const initializeAnecdotes = (anecdotes) => {\n  return {\n    type: 'INIT_ANECDOTES',\n    data: anecdotes\n  }\n}\n\nexport  const voteAnecdote = (id) => {\n  return {\n    type: 'VOTE',\n    data: {id}\n  }\n}\n\n\nconst anecdoteReducer = (state = [], action) => {\n  console.log('state now: ', state)\n  console.log('action', action)\n  switch(action.type) {\n    case 'NEW_ANECDOTE':\n      return [...state, action.data]\n    case 'INIT_ANECDOTES' :\n      return action.data\n    case 'VOTE':\n      const id = action.data.id\n      const anecdoteToVote = state.find(a => a.id === id)\n      const newAnecdote = {\n        ...anecdoteToVote, \n        votes: anecdoteToVote.votes + 1\n      }\n      return state.map(anecdote => \n        anecdote.id !== id ? anecdote : newAnecdote)\n    default: return state\n  }\n\n}\n\nexport default anecdoteReducer"]},"metadata":{},"sourceType":"module"}